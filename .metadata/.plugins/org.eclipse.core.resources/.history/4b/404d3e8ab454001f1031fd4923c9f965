package com.monocept.app.service;

import java.util.ArrayList;
import java.util.List;

import com.monocept.app.dto.CustomerResponseDto;
import com.monocept.app.entity.Customer;
import com.monocept.app.repository.CustomerRepository;

public class BankServiceImpl implements BankService{
	CustomerRepository customerRepository;
	

	public BankServiceImpl(CustomerRepository customerRepository) {
		super();
		this.customerRepository = customerRepository;
	}


	@Override
	public List<CustomerResponseDto> getAllCustomers() {
		
		return  convertCustomertoCustomerDto(customerRepository.findAll());
	}


	private List<CustomerResponseDto> convertCustomertoCustomerDto(List<Customer> all) {
		List<CustomerResponseDto> customers=new ArrayList<>();
		
		for(Customer i:all) {
			CustomerResponseDto customer=new CustomerResponseDto();
			customer.setCustomer_id(i.getCustomer_id());
			customer.setFirstName(i.getFirstName());
			customer.setLastName(i.getLastName());
			customer.setTotalBalance(i.getTotalBalance());
			
			customers.add(customer);
		}
		return customers;
		
		
	}

}
